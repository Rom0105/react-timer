{"version":3,"sources":["components/App/App.module.css","image/timer.png","components/App/App.js","index.js"],"names":["module","exports","App","useState","time","setTime","start","setStart","image","defaultImage","useEffect","unsubscribes","Subject","interval","pipe","takeUntil","subscribe","prevState","next","complete","wait","useRef","waitObservers","fromEvent","current","bufferTimes","debounceTime","clickSubscribes","buffer","map","clicks","length","filter","clickFinish","unsubscribe","src","alt","width","className","styles","container","title","timer","Date","toISOString","slice","div","button","onClick","ref","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oIACAA,EAAOC,QAAU,CAAC,UAAY,uBAAuB,MAAQ,mBAAmB,MAAQ,mBAAmB,OAAS,oBAAoB,IAAM,mB,yKCD/H,MAA0B,kC,wBCqF1BC,MA9Ef,WACE,MAAwBC,mBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA0BF,mBAAS,aAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACMC,EAAQC,EAEdC,qBAAU,WACR,IAAMC,EAAe,IAAIC,IASzB,OAPcC,YAAS,KAEjBC,KAAKC,YAAUJ,IAAeK,WAAU,WAC9B,eAAVV,GACFD,GAAQ,SAAAY,GAAS,OAAIA,EAAY,UAG9B,WACLN,EAAaO,OACbP,EAAaQ,cAEd,CAACb,IAEJ,IAKMc,EAAOC,iBAAO,MAoBpB,OAlBAX,qBAAU,WACR,IAAMY,EAAgBC,YAAUH,EAAKI,QAAS,SACxCC,EAAcH,EAAcR,KAAKY,YAAa,MAS9CC,EARSL,EAAcR,KAC3Bc,YAAOH,GACPI,aAAI,SAAAC,GACF,OAAOA,EAAOC,UAEhBC,aAAO,SAAAC,GAAW,OAAoB,IAAhBA,MAGOjB,WAAU,WACvCT,EAAS,gBAGX,OAAO,kBAAMoB,EAAgBO,iBAC5B,IAGD,qCACE,qBAAKC,IAAK3B,EAAO4B,IAAI,QAAQC,MAAM,QACnC,sBAAKC,UAAWC,IAAOC,UAAvB,UACE,oBAAIF,UAAWC,IAAOE,MAAtB,mBACA,8BACE,uBAAMH,UAAWC,IAAOG,MAAxB,cACI,IAAIC,KAAKvC,GAAMwC,cAAcC,MAAM,GAAI,IAD3C,SAIF,sBAAKP,UAAWC,IAAOO,IAAvB,UACE,wBACER,UAAWC,IAAOQ,OAClBC,QAAS,kBAAMzC,EAAS,eAF1B,mBAMA,wBAAQ+B,UAAWC,IAAOQ,OAAQC,QAAS,kBAzCjDzC,EAAS,kBACTF,EAAQ,IAwCF,kBAGA,wBAAQiC,UAAWC,IAAOQ,OAAQE,IAAK7B,EAAvC,kBAGA,wBAAQkB,UAAWC,IAAOQ,OAAQC,QAAS,kBAAM3C,EAAQ,IAAzD,6B,YCvEV6C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.58fab2ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2s9hZ\",\"timer\":\"App_timer__17QTZ\",\"title\":\"App_title__3jk8A\",\"button\":\"App_button__3Hjfi\",\"div\":\"App_div__2r8D7\"};","export default __webpack_public_path__ + \"static/media/timer.f479dc19.png\";","import React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport { interval, Subject, fromEvent } from 'rxjs';\nimport { takeUntil, buffer, debounceTime, map, filter } from 'rxjs/operators';\nimport defaultImage from '../../image/timer.png';\nimport styles from '../App/App.module.css';\n\nfunction App() {\n  const [time, setTime] = useState(0);\n  const [start, setStart] = useState('stopTimer');\n  const image = defaultImage;\n\n  useEffect(() => {\n    const unsubscribes = new Subject();\n\n    const timer = interval(1000);\n\n    timer.pipe(takeUntil(unsubscribes)).subscribe(() => {\n      if (start === 'startTimer') {\n        setTime(prevState => prevState + 1000);\n      }\n    });\n    return () => {\n      unsubscribes.next();\n      unsubscribes.complete();\n    };\n  }, [start]);\n\n  const stopTimer = () => {\n    setStart('stopTimer');\n    setTime(0);\n  };\n\n  const wait = useRef(null);\n\n  useEffect(() => {\n    const waitObservers = fromEvent(wait.current, 'click');\n    const bufferTimes = waitObservers.pipe(debounceTime(300));\n    const clicks = waitObservers.pipe(\n      buffer(bufferTimes),\n      map(clicks => {\n        return clicks.length;\n      }),\n      filter(clickFinish => clickFinish === 2),\n    );\n\n    const clickSubscribes = clicks.subscribe(() => {\n      setStart('waitTimer');\n    });\n\n    return () => clickSubscribes.unsubscribe();\n  }, []);\n\n  return (\n    <>\n      <img src={image} alt=\"timer\" width=\"700\" />\n      <div className={styles.container}>\n        <h1 className={styles.title}>Timer</h1>\n        <div>\n          <span className={styles.timer}>\n            \"{new Date(time).toISOString().slice(11, 19)}\"\n          </span>\n        </div>\n        <div className={styles.div}>\n          <button\n            className={styles.button}\n            onClick={() => setStart('startTimer')}\n          >\n            Start\n          </button>\n          <button className={styles.button} onClick={() => stopTimer()}>\n            Stop\n          </button>\n          <button className={styles.button} ref={wait}>\n            Wait\n          </button>\n          <button className={styles.button} onClick={() => setTime(0)}>\n            Reset\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'modern-normalize/modern-normalize.css';\nimport '../src/styles.css';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}